<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Octra Wallet</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <h1>Octra Wallet Explorer</h1>
        <div class="info-box">
            <h2>Wallet Info</h2>
            <p><strong>Address:</strong> <span id="address"></span></p>
            <p><strong>Balance:</strong> <span id="balance"></span></p>
            <p><strong>Nonce:</strong> <span id="nonce"></span></p>
            <p><strong>Public Key:</strong> <span id="public_key"></span></p>
            <p><strong>Pending Txs:</strong> <span id="pending_txs"></span></p>
        </div>
        <div class="transactions-box">
            <h2>Recent Transactions</h2>
            <table id="transactions">
                <thead>
                    <tr>
                        <th>Time</th>
                        <th>Type</th>
                        <th>Amount</th>
                        <th>Address</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        <div class="actions-box">
            <h2>Actions</h2>
            <button onclick="showSendForm()">Send Transaction</button>
            <button onclick="refreshWallet()">Refresh Balance</button>
            <button onclick="showMultiSendForm()">Multi Send</button>
            <button onclick="exportKeys()">Export Keys</button>
            <button onclick="clearHistory()">Clear History</button>
            <button onclick="showGenerateWalletForm()">Generate New Wallet</button>
            <button onclick="showLoadWalletForm()">Load Wallet</button>
        </div>
        <div id="send-form" class="form hidden">
            <h2>Send Transaction</h2>
            <form onsubmit="sendTransaction(event)">
                <label>To Address:</label>
                <input type="text" id="to_address" required>
                <label>Amount (OCT):</label>
                <input type="number" step="0.000001" id="amount" required>
                <button type="submit">Send</button>
                <button type="button" onclick="hideForms()">Cancel</button>
            </form>
        </div>
        <div id="multi-send-form" class="form hidden">
            <h2>Multi Send</h2>
            <form onsubmit="multiSend(event)">
                <div id="recipients">
                    <div class="recipient">
                        <label>Address:</label>
                        <input type="text" class="recipient-address" required>
                        <label>Amount:</label>
                        <input type="number" step="0.000001" class="recipient-amount" required>
                    </div>
                </div>
                <button type="button" onclick="addRecipient()">Add Recipient</button>
                <button type="submit">Send All</button>
                <button type="button" onclick="hideForms()">Cancel</button>
            </form>
        </div>
        <div id="export-keys" class="form hidden">
            <h2>Export Keys</h2>
            <p><strong>Address:</strong> <span id="export_address"></span></p>
            <p><strong>Private Key:</strong> <span id="export_private_key"></span></p>
            <p><strong>Public Key:</strong> <span id="export_public_key"></span></p>
            <button onclick="copyToClipboard('export_address')">Copy Address</button>
            <button onclick="copyToClipboard('export_private_key')">Copy Private Key</button>
            <button onclick="hideForms()">Close</button>
        </div>
        <div id="generate-wallet-form" class="form hidden">
            <h2>Generate New Wallet</h2>
            <p>Generate a new wallet and save the private key securely.</p>
            <button onclick="generateWallet()">Generate</button>
            <button type="button" onclick="hideForms()">Cancel</button>
        </div>
        <div id="load-wallet-form" class="form hidden">
            <h2>Load Wallet</h2>
            <form onsubmit="loadWallet(event)">
                <label>Base64 Private Key:</label>
                <input type="text" id="private_key" required>
                <button type="submit">Load</button>
                <button type="button" onclick="hideForms()">Cancel</button>
            </form>
        </div>
        <div id="message"></div>
    </div>
    <script src="/static/script.js"></script>
</body>
</html>